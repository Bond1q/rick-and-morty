"use strict";(self.webpackChunkrick_and_morty=self.webpackChunkrick_and_morty||[]).push([[937],{8937:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var n,i,a=r(885),s=r(2791),c=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,t){var r=e.title,a=e.titleId,u=o(e,c);return s.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:256,height:256,viewBox:"0 0 256 256",xmlSpace:"preserve",ref:t,"aria-labelledby":a},u),r?s.createElement("title",{id:a},r):null,n||(n=s.createElement("desc",null,"Created with Fabric.js 1.7.22")),i||(i=s.createElement("defs",null)),s.createElement("g",{transform:"translate(128 128) scale(0.72 0.72)",style:{}},s.createElement("g",{style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"none",fillRule:"nonzero",opacity:1},transform:"translate(-175.05 -175.05000000000004) scale(3.89 3.89)"},s.createElement("path",{d:"M 86 24.284 H 33.633 c -2.209 0 -4 -1.791 -4 -4 s 1.791 -4 4 -4 H 86 c 2.209 0 4 1.791 4 4 S 88.209 24.284 86 24.284 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),s.createElement("path",{d:"M 73.325 40.761 H 33.633 c -2.209 0 -4 -1.791 -4 -4 s 1.791 -4 4 -4 h 39.692 c 2.209 0 4 1.791 4 4 S 75.534 40.761 73.325 40.761 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),s.createElement("path",{d:"M 60.65 57.238 H 33.633 c -2.209 0 -4 -1.791 -4 -4 s 1.791 -4 4 -4 H 60.65 c 2.209 0 4 1.791 4 4 S 62.859 57.238 60.65 57.238 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),s.createElement("path",{d:"M 47.976 73.716 H 33.633 c -2.209 0 -4 -1.791 -4 -4 s 1.791 -4 4 -4 h 14.343 c 2.209 0 4 1.791 4 4 S 50.185 73.716 47.976 73.716 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),s.createElement("path",{d:"M 12.424 73.716 c -2.209 0 -4 -1.791 -4 -4 V 20.284 c 0 -2.209 1.791 -4 4 -4 s 4 1.791 4 4 v 49.432 C 16.424 71.925 14.633 73.716 12.424 73.716 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),s.createElement("path",{d:"M 12.424 73.716 c -1.023 0 -2.047 -0.391 -2.828 -1.172 L 1.172 64.12 c -1.563 -1.562 -1.563 -4.095 0 -5.656 c 1.563 -1.563 4.095 -1.563 5.657 0 l 5.596 5.595 l 5.595 -5.595 c 1.563 -1.563 4.095 -1.563 5.657 0 c 1.562 1.562 1.562 4.095 0 5.656 l -8.424 8.424 C 14.472 73.325 13.448 73.716 12.424 73.716 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}))))}var m=s.forwardRef(u),f=(r.p,r(184)),d=s.memo((function(e){var t=e.placeholderText,r=e.setSearchName,n=e.onFilterClicked,i=e.searchDefaultValue,c=(0,s.useState)(i),l=(0,a.Z)(c,2),o=l[0],u=l[1];s.useEffect((function(){u(i)}),[i]);return(0,f.jsxs)("div",{onKeyPress:function(e){13===e.charCode&&(r(o.trim()),n(!0))},className:"seacrh",children:[(0,f.jsx)("input",{value:o,onChange:function(e){u(e.target.value)},placeholder:t,onBlur:function(){u((function(e){return e.trim()})),r(o.trim())},type:"text"}),(0,f.jsx)("div",{className:"seacrhBtn",children:(0,f.jsx)("button",{onClick:function(){r(o.trim()),n(!0)}})})]})})),h=r(3066),v=r(6030),g=r(1411),k=r(1694),p=r.n(k),x=r(907);var b=r(181);function j(e){return function(e){if(Array.isArray(e))return(0,x.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,b.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=r(3708),N=function(e,t){var r=t-e+1;return Array.from({length:r},(function(t,r){return r+e}))},C=s.memo((function(e){var t=e.onPageChange,r=e.totalPageCount,n=e.siblingCount,i=void 0===n?1:n,a=e.currentPage,c=function(e){var t=e.totalPageCount,r=e.siblingCount,n=void 0===r?1:r,i=e.currentPage;return(0,s.useMemo)((function(){if(n+5>=t)return N(1,t);var e=Math.max(i-n,1),r=Math.min(i+n,t),a=e>2,s=r<t-2,c=1,l=t;if(!a&&s){var o=N(1,3+2*n);return[].concat(j(o),[y.Ag,t])}if(a&&!s){var u=N(t-(3+2*n)+1,t);return[c,y.Ag].concat(j(u))}if(a&&s){var m=N(e,r);return[c,y.Ag].concat(j(m),[y.Ag,l])}}),[t,n,i])}({currentPage:a,totalPageCount:r,siblingCount:i});if(0===a||c.length<2)return null;var l=c[c.length-1];return(0,f.jsxs)("ul",{className:p()("pagination"),children:[(0,f.jsx)("li",{className:p()("page",{disabled:1===a}),onClick:function(){t(a-1)},children:(0,f.jsx)("div",{className:"arrow left"})}),c.map((function(e,r){return e===y.Ag?(0,f.jsx)("li",{className:"page dots",children:"\u2026"},r):(0,f.jsx)("li",{className:p()("page",{selected:e===a}),onClick:function(){return t(e)},children:e},r)})),(0,f.jsx)("li",{className:p()("page",{disabled:a===l}),onClick:function(){t(a+1)},children:(0,f.jsx)("div",{className:"arrow right"})})]})})),A=r(3183),F=r(8763),I=r(6871),L=function(){var e=(0,I.s0)();return(0,f.jsxs)("div",{className:"notFound",children:[(0,f.jsx)("div",{className:"mainText",children:"Not found!"}),(0,f.jsx)("div",{className:"goBack",children:(0,f.jsx)("button",{onClick:function(){return e(-1)},children:"\u2190 Go back"})})]})},w=s.memo((function(e){var t=e.itemName,r=e.isActive,n=e.changeActiveBlockItem,i=e.setIsBtnActive;return(0,f.jsxs)("div",{onClick:function(){return i(!0),void n(t)},className:"filterBlockItem",children:[(0,f.jsx)("div",{className:p()("checkBox",{activeCheckBox:r})}),(0,f.jsx)("div",{className:p()("itemName",{activeItemName:r}),children:t})]})})),S=s.memo((function(e){var t=e.blockName,r=e.blockItems,n=e.setActiveFilterChanged,i=e.setIsBtnActive,a=function(e){n(t,e)},s=r.map((function(e,t){return(0,f.jsx)(w,{isActive:e.isActive,itemName:e.itemName,changeActiveBlockItem:a,setIsBtnActive:i},t)}));return(0,f.jsxs)("div",{className:"filterBlock",children:[(0,f.jsx)("div",{className:"blockName",children:t}),(0,f.jsx)("div",{children:s})]})})),E=s.memo((function(e){var t=e.filters,r=e.isFilterTabActive,n=e.setIsFilterTabActive,i=e.onFilterClicked,c=e.setActiveFilterChanged,l=(0,s.useState)(!1),o=(0,a.Z)(l,2),u=o[0],m=o[1],d=t.map((function(e,t){return(0,f.jsx)(S,{blockName:e.blockName,blockItems:e.blockItems,setActiveFilterChanged:c,setIsBtnActive:m},t)}));return(0,f.jsxs)("div",{onClick:h.Q,className:r?"filterContainer active":"filterContainer",children:[(0,f.jsx)("div",{children:d}),(0,f.jsx)("div",{onClick:function(){u&&(i(!0),m(!1)),n(!1)},className:p()("filterBtn",{isBtnActive:u}),children:(0,f.jsx)("button",{children:"Filter"})})]})})),P=function(e){var t,r,n=[],i=function(i){n.push({blockName:i,blockItems:e[i].map((function(e){return!0===e.isActive&&("gender"===i?t=e.type:r=e.type),{isActive:e.isActive,itemName:e.type}}))})};for(var a in e)i(a);return[n,t,r]},Z=r(501),B=function(e,t,r,n){var i="/characters/page=".concat(e,"?");return i+=t?"gender=".concat(t,"&"):"gender=all&",i+=r?"status=".concat(r):"status=all",i+=n?"&name=".concat(n):""},M=function(){var e=(0,I.TH)(),t=+(0,I.UO)().pageNum,r=(0,Z.lr)(),n=(0,a.Z)(r,2),i=n[0],c=(n[1],(0,s.useState)(t)),l=(0,a.Z)(c,2),o=l[0],u=l[1],m=(0,s.useState)(i.get("gender")||"all"),f=(0,a.Z)(m,2),d=f[0],h=f[1],v=(0,s.useState)(i.get("status")||"all"),g=(0,a.Z)(v,2),k=g[0],p=g[1],x=(0,s.useState)(i.get("name")||""),b=(0,a.Z)(x,2),j=b[0],y=b[1];(0,s.useEffect)((function(){u(t)}),[e.pathname]),(0,s.useEffect)((function(){d!==i.get("gender")&&h(i.get("gender")),k!==i.get("status")&&p(i.get("status")),j!==i.get("name")&&y(i.get("name"))}),[e.search]);var N=(0,I.s0)();return{page:o,gender:d,status:k,name:j,changeUrl:function(e,t,r,n){N(B(e,t,r,n),{replace:!0})}}},T=s.memo((function(e){var t=e.filters,r=e.isFilterTabActive,n=e.setIsFilterTabActive,i=e.searchName,c=e.searchParamsChanges,l=e.setCurrentPage,o=e.setIsFilterClicked,u=e.isFilterClicked,m=(0,v.I0)(),d=M(),h=d.gender,k=d.status,p=d.characterName,x=d.changeUrl,b=P(t),j=(0,a.Z)(b,3),y=j[0],N=j[1],C=j[2];return(0,s.useEffect)((function(){c(N,C,p)}),[h,p,k]),(0,s.useEffect)((function(){u&&(l(1),m((0,g.ql)(1,N,C,i)),x(1,N,C,i),o(!1))}),[u]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(E,{isFilterTabActive:r,setIsFilterTabActive:n,filters:y,setActiveFilterChanged:function(e,t){("gender"===e?N!==t:C!==t)&&m((0,g.xm)(e,t))},onFilterClicked:o})})})),z=function(){var e=(0,v.I0)(),t=(0,v.v9)((function(e){var t=e.charactersReducer;return[t.characters,t.filters,t.pages,t.isLoading,t.isCorrectParams]})),r=(0,a.Z)(t,5),n=r[0],i=r[1],c=r[2],l=r[3],o=r[4],u=(0,A.Z)(n),k=M(),p=k.page,x=k.gender,b=k.status,j=k.chacterName,y=k.changeUrl,N=(0,s.useState)(p),I=(0,a.Z)(N,2),w=I[0],S=I[1],E=(0,s.useState)(!1),P=(0,a.Z)(E,2),Z=P[0],B=P[1],z=(0,s.useState)(!1),O=(0,a.Z)(z,2),D=O[0],R=O[1],H=(0,s.useState)(""),W=(0,a.Z)(H,2),q=W[0],U=W[1];return(0,s.useEffect)((function(){p!==w&&S(p)}),[p]),(0,s.useEffect)((function(){y(w,x,b,j),e((0,g.ql)(w,x,b,j))}),[w]),(0,f.jsx)(f.Fragment,{children:o?l?(0,f.jsx)(F.Z,{}):(0,f.jsxs)("div",{onClick:function(){return B(!1)},className:"charactersPage",children:[(0,f.jsx)("div",{className:"mainTitle",children:"All characters"}),(0,f.jsxs)("div",{className:"menu",children:[(0,f.jsxs)("div",{onClick:function(e){(0,h.Q)(e),B((function(e){return!e}))},className:"filters",children:[(0,f.jsxs)("div",{className:"title",children:[(0,f.jsx)("div",{className:"titleText",children:"Filters"}),(0,f.jsx)(m,{className:"filterLogo",width:"30",height:"30"})]}),(0,f.jsx)("div",{className:"allFilters",children:(0,f.jsx)(T,{filters:i,isFilterTabActive:Z,setIsFilterTabActive:B,searchParamsChanges:function(t,r,n){x!==t&&(e((0,g.xm)("gender",x)),e((0,g.ql)(w,x,b,n))),b!==r&&(e((0,g.xm)("status",b)),e((0,g.ql)(w,x,b,n))),n&&(U(n),e((0,g.ql)(w,x,b,n)))},searchName:q,setCurrentPage:S,isFilterClicked:D,setIsFilterClicked:R})})]}),(0,f.jsx)(d,{searchDefaultValue:q,onFilterClicked:R,setSearchName:U,placeholderText:"Name:"})]}),(0,f.jsx)("div",{className:"cards",children:u}),(0,f.jsx)(C,{currentPage:w,totalPageCount:c,onPageChange:function(e){return S(e)}})]}):(0,f.jsx)(L,{})})}}}]);
//# sourceMappingURL=937.e9048028.chunk.js.map